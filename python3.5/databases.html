<!DOCTYPE html>
<html>
<head>
  <title>ipthon.club::Databases</title>
  
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="python club,django,flask,syncio">
  <meta name="author" content="ipython.club;kaotiai.com,youmoula.com">
  <meta property="og:image" content="/static/img/favicon.ico">
  <link rel="shortcut icon" href="/static/img/favicon.ico" type="image/x-icon">
  

  
  <!-- Bootstrap 3.3.6 -->
  <link href="/static/css/bootstrap.min.css" rel="stylesheet"></link>
  <link href="/static/css/bootstrap-theme.min.css" rel="stylesheet"></link>
  

</head>
<body>
<header class="header">
  <nav class="navbar col-sm-offset-2">
    <div class="container-fluid">
        <div class=" navbar-header" >
            <ul class="nav navbar-nav h2">
                <li class="logo link-muted" style="padding-right: 0;margin-right:0">
                    <img style="max-width:369px" class=" pull-left" onclick="window.location.href='/'"  src="/static/img/python.png" alt="Python" />
                    <a class="pull-left h2 link-muted" href="/python3.5/">ipython.club</a>
            </ul>
        </div>
    </div>
</nav>
</header>

<!--div class="container"-->
<div class="container-fluid">
  <div class="row-fluid">
        <div class="col-9 col-xl-9 col-lg-9 col-md-9 col-sm-9 col-xs-12 pr-5 pull-left">
            <div class="box-title h2"> Databases</div>
<!--            <div class="text-real" title="path">databases.html</div>-->
<!--            <div class="text-truncate" title="ancestor-path">data.html</div>-->
            <div class="text-body list-unstyled text-muted text-left">
                <p>A database is an abstraction over an
<a href="/python3.5/operating-systems.html">operating system</a>'s file system that makes
it easier for developers to build applications that create, read, update
and delete persistent data.</p><h2>Why are databases necessary?</h2><p>At a high level web applications store data and present it to users in a
useful way. For example, Google stores data about roads and provides
directions to get from one location to another by driving through the
<a href="https://www.google.com/maps/">Maps</a> application. Driving directions are
possible because the data is stored in a structured format. </p><p>Databases make structured storage reliable and fast. They also give you a
mental framework for how the data should be saved and retrieved instead of
having to figure out what to do with the data every time you build a new
application.</p><h2>Relational databases</h2><p>The database storage abstraction most commonly used in Python web development
is sets of relational tables. Alternative storage abstractions are explained
on the <a href="/python3.5/no-sql-datastore.html">NoSQL</a> page.</p><p>Relational databases store data in a series of tables. Interconnections
between the tables are specified as <em>foreign keys</em>. A foreign key is a
unique reference from one row in a relational table to another row in
a table, which can be the same table but is most commonly a different table.</p><p>Databases storage implementations vary in complexity. SQLite, a database
included with Python, creates a single file for all data per database.
Other databases such as <a href="/python3.5/postgresql.html">PostgreSQL</a>,
<a href="/python3.5/mysql.html">MySQL</a>, Oracle and Microsoft SQL Server have more
complicated persistence schemes while offering additional advanced features
that are useful for web application data storage. These advanced
features include but are not limited to:</p><ol>
<li>data replication between a master database and one or more read-only slave
instances</li>
<li>advanced column types that can efficiently store semi-structured data
such as JavaScript Object Notation (JSON)</li>
<li>sharding, which allows horizontal scaling of multiple databases that
each serve as read-write instances at the cost of latency in data
consistency</li>
<li>monitoring, statistics and other useful runtime information for
database schemas and tables</li>
</ol><p>Typically web applications start with a single database instance such
as PostgreSQL with a straightforward schema. Over time the database
schema evolves to a more complex structure using schema migrations and
advanced features such as replication, sharding and monitoring become
more useful as database utilization increases based on the application
users' needs.</p><h2>Most common databases for Python web apps</h2><p><a href="http://www.postgresql.org/">PostgreSQL</a> and
<a href="http://www.mysql.com/">MySQL</a> are two of the most common open source
databases for storing Python web applications' data.</p><p><a href="http://www.sqlite.org/">SQLite</a> is a database that is stored in a single
file on disk. SQLite is built into Python but is only built for access
by a single connection at a time. Therefore is highly recommended to not
<a href="https://docs.djangoproject.com/en/dev/ref/databases/#database-is-locked-errors">run a production web application with SQLite</a>.</p><h2>PostgreSQL database</h2><p>PostgreSQL is the recommended relational database for working with Python
web applications. PostgreSQL's feature set, active development and stability
contribute to its usage as the backend for millions of applications live
on the Web today.</p><p>Learn more about using PostgreSQL with Python on the
<a href="/python3.5/postgresql.html">PostgreSQL page</a>.</p><h2>MySQL database</h2><p>MySQL is another viable open source database implementation for Python
applications. MySQL has a slightly easier initial learning curve than
PostgreSQL but is not as feature rich.</p><p>Find out about Python applications with a MySQL backed on the dedicated
<a href="/python3.5/mysql.html">MySQL page</a>.</p><h2>Connecting to a database with Python</h2><p>To work with a relational database using Python, you need to use a code
library. The most common libraries for relational databases are:</p><ul>
<li>
<p><a href="http://initd.org/psycopg/">psycopg2</a>
(<a href="https://github.com/psycopg/psycopg2">source code</a>)
for PostgreSQL.</p>
</li>
<li>
<p><a href="https://pypi.org/project/MySQL-python/1.2.5">MySQLdb</a>
(<a href="https://github.com/farcepest/MySQLdb1">source code</a>)
for MySQL. Note that this driver's development is mostly frozen so
evaluating alternative drivers is wise if you are using
<a href="/python3.5/mysql.html">MySQL</a> as a backend.</p>
</li>
<li>
<p><a href="https://oracle.github.io/python-cx_Oracle/index.html">cx_Oracle</a> for
Oracle Database (<a href="https://github.com/oracle/python-cx_Oracle">source code</a>).
Oracle moved their
<a href="https://blogs.oracle.com/developers/oracle-database-python-driver-now-on-github">open source driver code from SourceForge to GitHub in 2017</a>.</p>
</li>
</ul><p>SQLite support is built into Python 2.7+ and therefore a separate library
is not necessary. Simply "import sqlite3" to begin interfacing with the
single file-based database.</p><h2>Object-relational Mapping</h2><p>Object-relational mappers (ORMs) allow developers to access data from a
backend by writing Python code instead of SQL queries. Each web
application framework handles integrating ORMs differently. There's
<a href="/python3.5/object-relational-mappers-orms.html">an entire page on object-relational mapping</a>
(ORMs) that you should read to get a handle on this subject.</p><h2>Database third-party services</h2><p>Numerous companies run scalable database servers as a hosted service.
Hosted databases can often provide automated backups and recovery,
tightened security configurations and easy vertical scaling, depending on the
provider.</p><ul>
<li>
<p><a href="http://aws.amazon.com/rds/">Amazon Relational Database Service (RDS)</a>
provides pre-configured MySQL and PostgreSQL instances. The instances can
be scaled to larger or smaller configurations based on storage and performance
needs.</p>
</li>
<li>
<p><a href="https://developers.google.com/cloud-sql/">Google Cloud SQL</a> is a service
with managed, backed up, replicated, and auto-patched MySQL instances. Cloud
SQL integrates with Google App Engine but can be used independently as well.</p>
</li>
<li>
<p><a href="http://www.gobitcan.com/">BitCan</a> provides both MySQL and MongoDB hosted
databases with extensive backup services.</p>
</li>
<li>
<p><a href="https://www.elephantsql.com/">ElephantSQL</a> is a software-as-a-service company
that hosts PostgreSQL databases and handles the server configuration, backups
and data connections on top of Amazon Web Services instances.</p>
</li>
</ul><h3>SQL resources</h3><p>You may plan to use an
<a href="/python3.5/object-relational-mappers-orms.html">object-relational mapper (ORM)</a>
as your main way of interacting with a database, but you should still
learn the basics of SQL to create schemas and understand the SQL code
generated by the ORM. The following resources can help you get up to
speed on SQL if you have never previously used it.</p><ul>
<li>
<p><a href="https://selectstarsql.com/">Select Star SQL</a> is an interactive book for
learning SQL. Highly recommended even if you feel you will only be working
with an <a href="/python3.5/object-relational-mappers-orms.html">object-relational mapper</a>
on your projects because you never know when you will need to drop into
SQL to improve a generated query's slow performance.</p>
</li>
<li>
<p><a href="https://www.sohamkamani.com/blog/2016/07/07/a-beginners-guide-to-sql/">A beginners guide to SQL</a>
does a good job explaining the main keywords used in SQL statements
such as <code>SELECT</code>, <code>WHERE</code>, <code>FROM</code>, <code>UPDATE</code> and <code>DELETE</code>.</p>
</li>
<li>
<p><a href="https://sqlzoo.net/">SQL Tutorial</a> teaches the SQL basics that can be
used in all major relational database implementations.</p>
</li>
<li>
<p><a href="https://numeracy.co/blog/life-of-a-sql-query">Life of a SQL query</a>
explains what happens both conceptually and technically within a
database when a SQL query is run. The author uses
<a href="/python3.5/postgresql.html">PostgreSQL</a> as the example database and SQL syntax
throughout the post.</p>
</li>
<li>
<p><a href="https://blog.jooq.org/2017/01/12/a-probably-incomplete-comprehensive-guide-to-the-many-different-ways-to-join-tables-in-sql/">A Probably Incomplete, Comprehensive Guide to the Many Different Ways to JOIN Tables in SQL</a>
elaborates on one of the trickiest parts of writing SQL statements
that bridge one or more tables: the <code>JOIN</code>.</p>
</li>
<li>
<p><a href="http://www.craigkerstiens.com/2016/01/08/writing-better-sql/">Writing better SQL</a>
is a short code styling guide to make your queries easier to read.</p>
</li>
<li>
<p><a href="https://www.dataquest.io/blog/sql-intermediate/">SQL Intermediate</a> is a
beyond-the-basics tutorial that uses open data from the
<a href="https://www.consumerfinance.gov/">US Consumer Financial Protection Bureau</a>
as examples for counting, querying and using views in PostgreSQL. </p>
</li>
</ul><h3>General database resources</h3><ul>
<li>
<p><a href="http://coding-geek.com/how-databases-work/">How does a relational database work?</a>
is a detailed longform post on the sorting, searching, merging and other
operations we often take for granted when using an established relational
database such as PostgreSQL.</p>
</li>
<li>
<p><a href="https://thomaslarock.com/2018/07/databases-101/">Databases 101</a> gives a
great overview of the main relational database concepts that is relevant
to even non-developers as an introduction.</p>
</li>
<li>
<p><a href="http://www.craigkerstiens.com/2016/06/07/five-mistakes-databases/">Five Mistakes Beginners Make When Working With Databases</a>
explains why you should not store images in databases as well as why to be
cautious with how you normalize your schema.</p>
</li>
<li>
<p><a href="http://db-engines.com/en/ranking">DB-Engines</a> ranks the most popular
database management systems.</p>
</li>
<li>
<p><a href="http://dbweekly.com/">DB Weekly</a> is a weekly roundup of general database
articles and resources.</p>
</li>
<li>
<p><a href="https://www.red-gate.com/simple-talk/cloud/cloud-data/designing-highly-scalable-database-architectures/">Designing Highly Scalable Database Architectures</a>
covers horizontal and vertical scaling, replication and caching in
relational database architectures.</p>
</li>
<li>
<p><a href="https://stripe.com/blog/online-migrations">Online migrations at scale</a>
is a great read on breaking down the complexity of a database schema
migration for an operational database. The approach the author's team
used was a 4-step dual writing pattern to carefully evolved the way
data for subscriptions were stored so they could move to a new, more
efficient storage model.</p>
</li>
<li>
<p><a href="https://www.allthingsdistributed.com/2018/06/purpose-built-databases-in-aws.html">A one size fits all database doesn't fit anyone</a>
explains Amazon Web Services' specific rationale for having so many types
of relational and non-relational databases on its platform but the article
is also a good overview of various database models and their use cases.</p>
</li>
<li>
<p><a href="https://blog.sqlizer.io/posts/sql-43/">SQL is 43 years old - hereâ€™s 8 reasons we still use it today</a>
lists why SQL is commonly used by almost all developers even as the
language approaches its fiftieth anniversary.</p>
</li>
<li>
<p><a href="https://begriffs.com/posts/2018-01-01-sql-keys-in-depth.html">SQL keys in depth</a>
provides a great explanation for what primary keys are and how you
should use them.</p>
</li>
<li>
<p><a href="https://tapoueh.org/blog/2017/06/exploring-a-data-set-in-sql/">Exploring a data set in SQL</a>
is a good example of how SQL alone can be used for
<a href="/python3.5/data-analysis.html">data analysis</a>. This tutorial uses Spotify data
to show how to extract what you are looking to learn from a data set.</p>
</li>
<li>
<p><a href="https://julien.danjou.info/blog/2014/db-integration-testing-strategies-python">Databases integration testing strategies</a>
covers a difficult topic that comes up on every real world project.</p>
</li>
<li>
<p>GitLab provided their
<a href="https://about.gitlab.com/2017/02/10/postmortem-of-database-outage-of-january-31/">postmortem of a database outage on January 31</a>
as a way to be transparent to customers and help other development
teams learn how they screwed up their database systems then found a way
to recover.</p>
</li>
<li>
<p><a href="http://techspot.zzzeek.org/2015/02/15/asynchronous-python-and-databases/">Asynchronous Python and Databases</a>
is an in-depth article covering why many Python database drivers cannot
be used without modification due to the differences in blocking versus
asychronous event models. Definitely worth a read if you are using
<a href="/python3.5/websockets.html">WebSockets</a> via Tornado or gevent.</p>
</li>
<li>
<p><a href="http://www.pg-versus-ms.com/">PostgreSQL vs. MS SQL Server</a> is one
perspective on the differences between the two database servers from a
data analyst.</p>
</li>
</ul><h2>Databases learning checklist</h2><ol>
<li>
<p>Install PostgreSQL on your server. Assuming you went with Ubuntu run
<code>sudo apt-get install postgresql</code>.</p>
</li>
<li>
<p>Make sure the <a href="http://initd.org/psycopg/">psycopg2</a> library is in your
application's dependencies.</p>
</li>
<li>
<p>Configure your web application to connect to the PostgreSQL instance.</p>
</li>
<li>
<p>Create models in your ORM, either with Django's
<a href="https://docs.djangoproject.com/en/dev/topics/db/">built-in ORM</a> or
<a href="http://www.sqlalchemy.org/">SQLAlchemy with Flask</a>. </p>
</li>
<li>
<p>Build your database tables or sync the ORM models with the PostgreSQL
instance, if you're using an ORM.</p>
</li>
<li>
<p>Start creating, reading, updating and deleting data in the database
from your web application.</p>
</li>
</ol><h3>What's next to get your app running?</h3>
            </div>

        </div>
        <div class="col-3 col-xl-3 col-lg-3 col-md-3 col-sm-3 col-xs-0 pull-right">
        <!-- 3rd column start  -->
            <ul class="list-group-horizontal">
            
            <li class="list-group-item-info " style="padding-block-end:.7em;">
                <a class="nav-link" ancestor="" alt="Introduction" href="/python3.5/introduction.html">
                    Introduction
                </a>
                

            </li>
            
            <li class="list-group-item-info " style="padding-block-end:.7em;">
                <a class="nav-link" ancestor="" alt="Development Environments" href="/python3.5/development-environments.html">
                    Development Environments
                </a>
                

            </li>
            
            <li class="list-group-item-info " style="padding-block-end:.7em;">
                <a class="nav-link" ancestor="" alt="DevOps" href="/python3.5/devops.html">
                    DevOps
                </a>
                

            </li>
            
            <li class="list-group-item-info " style="padding-block-end:.7em;">
                <a class="nav-link" ancestor="" alt="Deployment" href="/python3.5/deployment.html">
                    Deployment
                </a>
                

            </li>
            
            <li class="list-group-item-info " style="padding-block-end:.7em;">
                <a class="nav-link" ancestor="" alt="Web Development" href="/python3.5/web-development.html">
                    Web Development
                </a>
                

            </li>
            
            <li class="list-group-item-info " style="padding-block-end:.7em;">
                <a class="nav-link" ancestor="" alt="Data" href="/python3.5/data.html">
                    Data
                </a>
                
                <div style="padding-inline-start: 2.1em;">
                <p>&nbsp;</p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="SQLAlchemy" href="/python3.5/sqlalchemy.html">
                    SQLAlchemy
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="reStructuredText" href="/python3.5/restructuredtext.html">
                    reStructuredText
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="Markdown" href="/python3.5/markdown.html">
                    Markdown
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="Matplotlib" href="/python3.5/matplotlib.html">
                    Matplotlib
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="d3.js" href="/python3.5/d3-js.html">
                    d3.js
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="Bokeh" href="/python3.5/bokeh.html">
                    Bokeh
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="SciPy and NumPy" href="/python3.5/scipy-numpy.html">
                    SciPy and NumPy
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="pandas" href="/python3.5/pandas.html">
                    pandas
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="Neo4j" href="/python3.5/neo4j.html">
                    Neo4j
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="Apache Cassandra" href="/python3.5/apache-cassandra.html">
                    Apache Cassandra
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="MongoDB" href="/python3.5/mongodb.html">
                    MongoDB
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="Redis" href="/python3.5/redis.html">
                    Redis
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="Pony ORM" href="/python3.5/pony-orm.html">
                    Pony ORM
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="Django ORM" href="/python3.5/django-orm.html">
                    Django ORM
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="Peewee" href="/python3.5/peewee.html">
                    Peewee
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="SQLite" href="/python3.5/sqlite.html">
                    SQLite
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="MySQL" href="/python3.5/mysql.html">
                    MySQL
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="PostgreSQL" href="/python3.5/postgresql.html">
                    PostgreSQL
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="Markup Languages" href="/python3.5/markup-languages.html">
                    Markup Languages
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="Data Visualization" href="/python3.5/data-visualization.html">
                    Data Visualization
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="Data analysis" href="/python3.5/data-analysis.html">
                    Data analysis
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="NoSQL Data Stores" href="/python3.5/no-sql-datastore.html">
                    NoSQL Data Stores
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       
                       alt="Object-relational Mappers (ORMs)" href="/python3.5/object-relational-mappers-orms.html">
                    Object-relational Mappers (ORMs)
                    </a>
                </p>
                
                <p style="margin-block-end:0em;padding-block-end: 1em;">
                    <a ancestor=""
                       class="text-muted"
                       alt="Databases" href="/python3.5/databases.html">
                    Databases
                    </a>
                </p>
                
                </div>
                

            </li>
            
            <li class="list-group-item-info " style="padding-block-end:.7em;">
                <a class="nav-link" ancestor="" alt="Code Examples" href="/python3.5/code-examples.html">
                    Code Examples
                </a>
                

            </li>
            
            <li class="list-group-item-info " style="padding-block-end:.7em;">
                <a class="nav-link" ancestor="" alt="Meta" href="/python3.5/meta.html">
                    Meta
                </a>
                

            </li>
            
            </ul>
        <!-- 3 -->
         </div>

  </div>

</div>


<footer class="container-fluid row">
   <div class="text-right col-lg-12 col-md-12 col-sm-12" style="
    line-height: 4.2em;
    height: fit-content;
    margin-bottom:2em;">
           <div class=" right text-secondary">
               <span>
               <strong>2014-<script>document.write(new Date().getFullYear())</script>
                   <a href="https://www.ipython.club">ipython.club</a></strong>
               </span>
            </div>
  </div>
</footer>


<!-- jQuery 2.2.3 -->
<script src="/static/plugins/jQuery/jquery-2.2.3.min.js"></script>

<!-- Bootstrap 3.3.6 -->
<script src="/static/js/bootstrap.min.js"></script>






</body>
</html>